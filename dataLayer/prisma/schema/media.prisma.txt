// Media model - Schema.org ImageObject

model Media {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  // File info
  filename String
  url      String // CDN/Storage URL
  mimeType String
  fileSize Int? // Bytes

  // Schema.org ImageObject
  width           Int?
  height          Int?
  encodingFormat  String? // image/jpeg, image/png, etc.
  contentUrl      String?
  thumbnailUrl    String?
  copyrightHolder String?

  // SEO (Critical)
  altText     String? // Required for accessibility and SEO
  caption     String?
  credit      String?
  title       String?
  description String?
  keywords    String[]
  license     String? // License type (CC0, CC-BY, CC-BY-SA, CC-BY-NC, Commercial, All Rights Reserved, Public Domain)
  creator     String? // Creator/Author name
  dateCreated DateTime? // Date when the image was created (from EXIF or manual)

  // Schema.org Enhancement
  geoLatitude     Float?  // Geographic latitude
  geoLongitude    Float?  // Geographic longitude
  geoLocationName String? // Human-readable location name
  contentLocation String? // Content location (where the image was taken/shows)
  exifData        Json?   // Full EXIF metadata stored as JSON

  // Cloudinary Integration
  cloudinaryPublicId  String? // Cloudinary public ID
  cloudinaryVersion   String? // Cloudinary version
  cloudinarySignature String? // Cloudinary signature

  // Relationships
  articleId String?  @db.ObjectId
  article   Article? @relation("ArticleMedia", fields: [articleId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  featuredArticles Article[] @relation("ArticleFeaturedImage")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([articleId])
  @@map("media")
}
